"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5309],{487:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(6457);function s(){return(0,a.Z)()?document.firstElementChild.dataset.theme:"dark"}},5309:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(7378);const s={iframeEditor:"iframeEditor_XInh"};var n=r(8944),o=r(487),i=r(8948);function l(e){const{config:t,source:r={}}=e,{text:l}=r,{id:d,title:c,lightUrl:m,darkUrl:u,message:w={},readyMessage:f,className:g,messageTextFieldName:p="text",messageIdFieldName:h="mid",allow:b="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; usb; xr-spatial-tracking; serial; bluetooth",sandbox:E="allow-forms allow-scripts allow-downloads allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}=t,v=(0,o.Z)(),k=(0,i.Z)("dark"===v?u:m),x=`${d}-editor-frame`,y=(0,a.useRef)(null),Z=()=>{const e=y.current,t=e?.contentWindow;if(!t)return;const r=Math.random()+"",a={...w,[h]:r,[p]:l};t.postMessage(a,"*")};return(0,a.useEffect)((()=>Z()),[k,r]),(0,a.useEffect)((()=>{if(!f||"undefined"==typeof window)return;const e=y.current,t=e?.contentWindow;if(!t)return;const r=e=>{const{data:t}=e;Object.entries(f).every((e=>{let[r,a]=e;return t[r]===f[r]}))&&(window.removeEventListener("message",r),Z())};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}),[k]),a.createElement("iframe",{id:x,"aria-label":c||d,ref:y,className:(0,n.Z)(s.iframeEditor,g),allow:b,sandbox:E,src:k})}}}]);